{"version":3,"sources":["components/MaskTable.js","components/Map.js","components/Menus.js","components/Grid.js","middleWare/Service.js","components/Main.js","index.js"],"names":["MaskTable","props","Table","striped","bordered","hover","size","shopData","name","phone","address","mask_adult","mask_child","LocationMarker","map","useMapEvents","click","flyTo","locate","getZoom","Map","state","useContext","APIContext","MapContainer","style","width","height","center","zoom","scrollWheelZoom","TileLayer","attribution","url","showCoverageOnHover","features","item","index","Marker","position","geometry","coordinates","Popup","properties","active","MemoMap","memo","Menus","dispatch","cityNames","citys","Item","icon","FireOutlined","onClick","setActive","Coordinates","CityName","theme","mode","defaultSelectedKeys","MemoMenus","Header","Layout","Content","Footer","Sider","Grid","overflow","left","className","marginLeft","padding","background","margin","minHeight","textAlign","service","axios","create","baseURL","interceptors","request","use","config","headers","Accept","error","response","code","data","console","log","msg","createContext","Main","useState","setFeatures","useEffect","a","Service","get","Provider","value","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff398870.chunk.js","sourcesContent":["import { Table } from 'react-bootstrap'\nconst MaskTable = (props) => {\n    return (<Table striped bordered hover size=\"sm\">\n        <tbody>\n            <tr>\n                <td>店名</td>\n                <td>{props.shopData.name}</td>\n            </tr>\n            <tr>\n                <td>電話</td>\n                <td>{props.shopData.phone}</td>\n            </tr>\n            <tr>\n                <td>地址</td>\n                <td>{props.shopData.address}</td>\n            </tr>\n            <tr>\n                <td>成人口罩</td>\n                <td>{props.shopData.mask_adult}</td>\n            </tr>\n            <tr>\n                <td>兒童口罩</td>\n                <td>{props.shopData.mask_child}</td>\n            </tr>\n        </tbody>\n    </Table>)\n}\nexport default MaskTable;","import { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet'\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nimport React, { useContext, memo } from 'react';\nimport { APIContext } from './Main'\nimport MaskTable from './MaskTable'\n\n\nfunction LocationMarker(props) {\n    const map = useMapEvents({\n        click() {\n            map.flyTo(props.locate, map.getZoom())\n        },\n    })\n    return (<></>)\n}\nconst Map = () => {\n    const { state } = useContext(APIContext)\n\n    return (\n        <MapContainer style={{ width: '100%', height: '100vh' }} center={[25.0450096, 121.5803059]} zoom={13} scrollWheelZoom={true}>\n            <TileLayer\n                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <MarkerClusterGroup showCoverageOnHover={false}>\n                {state.features.map((item, index) => {\n                    return (\n                        <Marker key={index} position={[item.geometry.coordinates[1], item.geometry.coordinates[0]]}>\n                            <Popup>\n                                <MaskTable shopData={item.properties} />\n                            </Popup>\n                        </Marker>\n                    )\n                })}\n                <LocationMarker locate={state.active} />\n            </MarkerClusterGroup>\n        </MapContainer>)\n}\nconst MemoMap = memo(Map)\nexport default MemoMap","import { Menu } from 'antd';\nimport { APIContext } from './Main'\nimport React, { useContext, memo } from 'react';\nimport { FireOutlined } from '@ant-design/icons';\nimport citys from '../assets/countryName.json'\nconst Menus = () => {\n    const { dispatch } = useContext(APIContext)\n\n    const cityNames = citys.map((item, index) => {\n        return (<Menu.Item key={index} icon={<FireOutlined />} onClick={() => {\n            dispatch.setActive(() => item.Coordinates);\n        }}>\n            {item.CityName}\n        </Menu.Item>)\n    })\n    return (<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['0']}>\n        {cityNames}\n    </Menu>)\n}\nconst MemoMenus = memo(Menus)\nexport default MemoMenus","import { Layout, Menu } from 'antd';\nimport Map from '../components/Map'\nimport Menus from './Menus'\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nconst Grid = () => {\n    return (<Layout>\n        <Sider\n            style={{\n                overflow: 'auto',\n                height: '100vh',\n                position: 'fixed',\n                left: 0,\n            }}\n        >\n            <div className=\"logo\" />\n            <Menus />\n        </Sider>\n        <Layout style={{ marginLeft: 200 }}>\n            <Header style={{ padding: 0, background: '#fff' }} />\n            <Content style={{ margin: '24px 16px 0' }}>\n                <div style={{ padding: 24, minHeight: 360, background: '#fff' }}>\n                    <Map />\n                </div>\n            </Content>\n            <Footer style={{ textAlign: 'center' }}>Ant Design ©2018 Created by Ant UED</Footer>\n        </Layout>\n    </Layout>)\n}\nexport default Grid\n\n","import axios from 'axios';\n\nconst service = axios.create({\n    baseURL: \"https://raw.githubusercontent.com/\"\n})\n\nservice.interceptors.request.use(config => {\n    config.headers = {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n    }\n    return config\n}, error => {\n    return error;\n})\n\nservice.interceptors.response.use(response => {\n    if (response.code) {\n        switch (response.code) {\n            case 200:\n                return response.data;\n            case 401:\n                //未登入處理方法\n                break;\n            case 403:\n                //token過期處理方法\n                break;\n            default:\n                console.log(response.data.msg)\n        }\n    } else {\n        return response;\n    }\n})\nexport default service","import React, { useState, useEffect, createContext } from 'react';\nimport Grid from './Grid'\nimport \"antd/dist/antd.css\"\nimport Service from '../middleWare/Service'\nexport const APIContext = createContext();\nconst Main = () => {\n    const [features, setFeatures] = useState([]);\n    const [active, setActive] = useState([25.0450096, 121.5803059]);\n    const state = { active, features }\n    const dispatch = { setActive }\n    useEffect(async () => {\n        const response = await Service.get('/kiang/pharmacies/master/json/points.json')\n        setFeatures(() => response.data.features)\n    }, [])\n    return (\n        <>\n            <APIContext.Provider value={{ state, dispatch }}>\n                <Grid />\n            </APIContext.Provider>\n        </>\n    )\n}\nexport default Main;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './components/Main'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}